(window.webpackJsonp=window.webpackJsonp||[]).push([[173],{718:function(s,t,a){"use strict";a.r(t);var e=a(2),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("Boxx"),s._v(" "),t("p",[s._v("从0开始学习CTF，了解CTF基本规则、方法，这是开始打卡学习的第37天")]),s._v(" "),t("p",[s._v("Web应用&架构搭建&站库分离&路由访问&配置受限&DNS解析")]),s._v(" "),t("p",[s._v("发现单纯学习CTF没有一个系统完整的课程，所以准备学小迪安全的渗透测试课程，希望能打一个好基础。")]),s._v(" "),t("p",[s._v("此外，还应该多参加各种CTF比赛，或者是每天练习CTF赛题，理论与实践相结合。")]),s._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#数据库"}},[s._v("数据库：")]),t("ul",[t("li",[t("a",{attrs:{href:"#情况对比"}},[s._v("情况对比")])])])]),t("li",[t("a",{attrs:{href:"#认识目录"}},[s._v("认识目录")])]),t("li",[t("a",{attrs:{href:"#路由访问"}},[s._v("路由访问")]),t("ul",[t("li",[t("a",{attrs:{href:"#常规方式"}},[s._v("常规方式：")])]),t("li",[t("a",{attrs:{href:"#非常规模式-路由访问"}},[s._v("非常规模式-路由访问")])])])]),t("li",[t("a",{attrs:{href:"#解析规则"}},[s._v("解析规则")])]),t("li",[t("a",{attrs:{href:"#整体总结"}},[s._v("整体总结")])])])]),t("p"),s._v(" "),t("ul",[t("li",[s._v("小迪安全视频地址【"),t("RouterLink",{attrs:{to:"/views/numerology/[https://www.bilibili.com/video/BV123yAYMEwb/"}},[s._v("🔗传送门")]),s._v("】")],1)]),s._v(" "),t("h1",{attrs:{id:"第19章-基础入门-web应用-架构搭建-站库分离-路由访问-配置受限-dns解析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第19章-基础入门-web应用-架构搭建-站库分离-路由访问-配置受限-dns解析"}},[s._v("#")]),s._v(" 第19章：基础入门-Web应用&架构搭建&站库分离&路由访问&配置受限&DNS解析")]),s._v(" "),t("h2",{attrs:{id:"数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据库"}},[s._v("#")]),s._v(" 数据库：")]),s._v(" "),t("p",[s._v("除昨天提到到的方法外，还有云数据库，如阿里云的云数据库RDS、腾讯云的云原生MySQL等。")]),s._v(" "),t("p",[s._v("这种方式对比昨天的方式不需要操作系统，能直接租成品的云数据库")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/ctfLearnimage-20241225195837288.png",alt:"image-20241225195837288"}})]),s._v(" "),t("h3",{attrs:{id:"情况对比"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#情况对比"}},[s._v("#")]),s._v(" 情况对比")]),s._v(" "),t("ol",[t("li",[s._v("如果我们是将应用和数据库都放到本地，我们拿到权限的话，可以拿到所有权限")]),s._v(" "),t("li",[s._v("如果我们应用和数据库不在同一台服务器，也就是站库分离的形式，就不一定能拿到数据，因为数据库有外联特性或者绑定特性，即便拿到了账号密码也不一定能连接上。")]),s._v(" "),t("li",[s._v("如果用云上的数据库，安全系数更高，登录方式不再是传统的账号密码（比如阿里云的key），还可能有一些其他的绑定，可以限制某些IP的访问，只有应用可以访问。")])]),s._v(" "),t("p",[s._v("现在的安全趋势和传统方式已经大不相同，已经不能用传统的眼光去看待现在的形势。")]),s._v(" "),t("p",[s._v("有些产品现在购买"),t("code",[s._v("网站域名+云服务+云数据库+云存储空间")]),s._v("就能搭建一个完整、安全的产品")]),s._v(" "),t("p",[s._v("这里的云存储空间比如有阿里云的OSS资源，专门用来存储用户数据，比如音频、图片等，传统的方式是上传到应用目录下，存储到网站的目录下，变为存储到OSS资源中后，我们上传漏洞不再可用，后门上传后没有任何作用。")]),s._v(" "),t("p",[s._v("我们大部分的漏洞都是传统的搭建模式，现在技术的快速迭代导致的一些传统漏洞不再可用，比如数据库采用云数据库、头像上传到OSS对象中，很多漏洞就不用去考虑了，因为这些漏洞已不复存在。")]),s._v(" "),t("p",[s._v("所以我们要学习信息搜集，搜集的目标就是判断应用是不是符合我们漏洞利用的类型，搜集到以后才能进入后面的步骤。")]),s._v(" "),t("h2",{attrs:{id:"认识目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#认识目录"}},[s._v("#")]),s._v(" 认识目录")]),s._v(" "),t("p",[s._v("我们在见到源码的结构、目录后，需要根据结构、目录判断这些文件夹的作用，我们以hdhcms的源码目录举例：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("admin --管理员、后台目录\nbin --执行程序\ndatabase --数据相关\nimage --图片相关\njs --前端JavaScript相关\nmember --会员\ntemplate --模版\nupfiles --文件上传\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"路由访问"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#路由访问"}},[s._v("#")]),s._v(" 路由访问")]),s._v(" "),t("h3",{attrs:{id:"常规方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常规方式"}},[s._v("#")]),s._v(" 常规方式：")]),s._v(" "),t("p",[s._v("视频中服务器上搭建的是z-blog的应用，在post文件下新建一个1.txt的文件，文件内容不限。")]),s._v(" "),t("p",[s._v("我们在访问时，可以直接访问以下地址就能得到该文件"),t("code",[s._v("http://xiaosedi.fun/post/1.txt")]),s._v("，这种方式就是路由访问。")]),s._v(" "),t("p",[s._v("因为我们在IIS管理器中绑定的地址就是绑定目录到z-blog这个文件夹")]),s._v(" "),t("h3",{attrs:{id:"非常规模式-路由访问"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#非常规模式-路由访问"}},[s._v("#")]),s._v(" 非常规模式-路由访问")]),s._v(" "),t("p",[s._v("一般常见于mvc类源码，比如python、java等。")]),s._v(" "),t("p",[s._v("这种应用使用刚才的常规方式访问已经不可行了，会报404未找到的状态码。")]),s._v(" "),t("p",[s._v("以后可能碰到网站源码和网站url对应不上的问题，这就是因为路由配置")]),s._v(" "),t("h2",{attrs:{id:"解析规则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解析规则"}},[s._v("#")]),s._v(" 解析规则")]),s._v(" "),t("p",[s._v("在IIS管理器中，有MIME类型设置，这就是为什么有些网站访问jsp文件是下载，有些网站是执行，就与这个设置有关")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/ctfLearn/image-20241225210443680.png",alt:"image-20241225210443680"}})]),s._v(" "),t("p",[s._v("从安全的角度考虑，如果添加一个asp的拓展名，对应的MIME类型是png，这时上传asp后，会被当成png展示，就没有脚本的作用了。")]),s._v(" "),t("p",[s._v("在linux中，我们在nginx中找到nginx.conf可以设置mime相关内容")]),s._v(" "),t("div",{staticClass:"language-nginx line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-nginx"}},[t("code",[s._v("   "),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("http")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n       "),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("types")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n           "),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("application/json")]),s._v(" json")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n           "),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("text/html")]),s._v(" html")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n           "),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("text/css")]),s._v(" css")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n           "),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("image/png")]),s._v(" png")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以根据需要添加更多的MIME类型")]),s._v("\n       "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 其他http块内的配置")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h2",{attrs:{id:"整体总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#整体总结"}},[s._v("#")]),s._v(" 整体总结")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/ctfLearn/1735132759121.png",alt:"1735132759121"}})])],1)}),[],!1,null,null,null);t.default=n.exports}}]);