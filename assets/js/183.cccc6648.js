(window.webpackJsonp=window.webpackJsonp||[]).push([[183],{707:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("Boxx"),s._v(" "),t("p",[s._v("从0开始学习CTF，了解CTF基本规则、方法，这是开始打卡学习的第48天")]),s._v(" "),t("p",[s._v("今日内容：Web架构&OSS存储&负载均衡&CDN加速&反向代理&WAF防护")]),s._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#负载均衡"}},[s._v("负载均衡")]),t("ul",[t("li",[t("a",{attrs:{href:"#原理"}},[s._v("原理：")])]),t("li",[t("a",{attrs:{href:"#影响"}},[s._v("影响：")])]),t("li",[t("a",{attrs:{href:"#演示"}},[s._v("演示：")])]),t("li",[t("a",{attrs:{href:"#结论"}},[s._v("结论：")])])])]),t("li",[t("a",{attrs:{href:"#思维导图"}},[s._v("思维导图")])])])]),t("p"),s._v(" "),t("ul",[t("li",[s._v("小迪安全视频地址【"),t("RouterLink",{attrs:{to:"/views/numerology/[https://www.bilibili.com/video/BV123yAYMEwb/"}},[s._v("🔗传送门")]),s._v("】")],1)]),s._v(" "),t("h1",{attrs:{id:"第22章-web架构-oss存储-负载均衡-cdn加速-反向代理-waf防护"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第22章-web架构-oss存储-负载均衡-cdn加速-反向代理-waf防护"}},[s._v("#")]),s._v(" 第22章：Web架构&OSS存储&负载均衡&CDN加速&反向代理&WAF防护")]),s._v(" "),t("h2",{attrs:{id:"负载均衡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#负载均衡"}},[s._v("#")]),s._v(" 负载均衡")]),s._v(" "),t("h3",{attrs:{id:"原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#原理"}},[s._v("#")]),s._v(" "),t("strong",[s._v("原理：")])]),s._v(" "),t("p",[s._v("分摊到多个操作单元上执行，共同完成工作任务")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/ctfLearn/image-20250105201826936.png",alt:"image-20250105201826936"}})]),s._v(" "),t("p",[s._v("用CDN这个图也能解释负载均衡，能提高访问速度，提高速度，还有一个功能是容灾。")]),s._v(" "),t("h3",{attrs:{id:"影响"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#影响"}},[s._v("#")]),s._v(" "),t("strong",[s._v("影响：")])]),s._v(" "),t("p",[s._v("有多个服务加载服务，测试过程中存在多个目标情况")]),s._v(" "),t("h3",{attrs:{id:"演示"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#演示"}},[s._v("#")]),s._v(" "),t("strong",[s._v("演示：")])]),s._v(" "),t("p",[s._v("Nginx负载均衡配置")]),s._v(" "),t("p",[s._v("Windows2012+BT宝塔面板+Nginx")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("在宝塔面板中，我们点击站点的设置，选择配置文件，修改一下内容")])]),s._v(" "),t("li",[t("div",{staticClass:"language-nginx line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-nginx"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 定义负载设置 以下内容要放到最外一层")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("upstream")]),s._v(" fzjh")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server")]),s._v(" 47.94.236.117:80 weight=2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server")]),s._v(" 47.122.22.195:80 weight=1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("listen")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#定义访问路径 访问策略")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /意思是访问根路径的时候启动负载均衡")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" /")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token directive"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("proxy_pass")]),s._v(" http://fzjh/")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("    \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("最终出现的效果是，每次刷新，有时候显示47.94.236.117:80的页面，有时候显示47.122.22.195:80的页面。")])]),s._v(" "),t("li",[t("p",[s._v("可以加上权重，优先权重大的显示。")])]),s._v(" "),t("li",[t("p",[s._v("我们可以将相同的站点部署到多个ip上边，其中一台服务器坏了也不要紧，我们还有其他的服务器。")])])]),s._v(" "),t("h3",{attrs:{id:"结论"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#结论"}},[s._v("#")]),s._v(" "),t("strong",[s._v("结论：")])]),s._v(" "),t("p",[s._v("讲了这么多的搭建方式，用不同的技术搭建的网站， 最后信息搜集的时候，我们需要明确是用什么技术做的应用，比如OSS对象存储就将文件上传漏洞解决了。这是在为后来的信息搜集打基础。")]),s._v(" "),t("h2",{attrs:{id:"思维导图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#思维导图"}},[s._v("#")]),s._v(" 思维导图")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/ctfLearn/image-20250105212931784.png",alt:"image-20250105212931784"}})])],1)}),[],!1,null,null,null);t.default=e.exports}}]);