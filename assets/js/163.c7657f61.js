(window.webpackJsonp=window.webpackJsonp||[]).push([[163],{683:function(s,a,e){"use strict";e.r(a);var n=e(2),t=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("Boxx"),s._v(" "),a("p",[s._v("从0开始学习CTF，了解CTF基本规则、方法，这是开始打卡学习的第28天")]),s._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#布尔盲注-回显不同"}},[s._v("布尔盲注-回显不同")]),a("ul",[a("li",[a("a",{attrs:{href:"#布尔状态例如"}},[s._v("布尔状态例如：")])]),a("li",[a("a",{attrs:{href:"#初步认识盲注"}},[s._v("初步认识盲注：")])]),a("li",[a("a",{attrs:{href:"#盲注的两大基础问题"}},[s._v("盲注的两大基础问题")])]),a("li",[a("a",{attrs:{href:"#字符串的截取"}},[s._v("字符串的截取")])]),a("li",[a("a",{attrs:{href:"#不是比较字符的解决方案-ascii码"}},[s._v("不是比较字符的解决方案---Ascii码")])])])])])]),a("p"),s._v(" "),a("ul",[a("li",[s._v("视频地址【"),a("a",{attrs:{href:"https://www.bilibili.com/video/BV1Lh411F7s8/",target:"_blank",rel:"noopener noreferrer"}},[s._v("🔗传送门"),a("OutboundLink")],1),s._v("】")])]),s._v(" "),a("h1",{attrs:{id:"第11章-布尔盲注1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第11章-布尔盲注1"}},[s._v("#")]),s._v(" 第11章：布尔盲注1")]),s._v(" "),a("h2",{attrs:{id:"布尔盲注-回显不同"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#布尔盲注-回显不同"}},[s._v("#")]),s._v(" 布尔盲注-回显不同")]),s._v(" "),a("h3",{attrs:{id:"布尔状态例如"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#布尔状态例如"}},[s._v("#")]),s._v(" 布尔状态例如：")]),s._v(" "),a("ol",[a("li",[s._v("回显不同（比如能查到内容时显示内容，查不到时不显示内容、长度）")]),s._v(" "),a("li",[s._v("HTTP响应状态码不同（200成功、500、301重定向）")]),s._v(" "),a("li",[s._v("HTTP响应头变化（比如登录成功，可能会带location的请求头进行重定向，或者加上一个新的cookie，如果失败就没有以上这些）")]),s._v(" "),a("li",[s._v("基于错误的布尔注入（MySQL是否报错）")])]),s._v(" "),a("p",[s._v("我们从浏览器看到的各种内容的变化、响应头的变化、状态码的变化实际反映的是SQL语句查询的成功与否的布尔状态。")]),s._v(" "),a("h3",{attrs:{id:"初步认识盲注"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初步认识盲注"}},[s._v("#")]),s._v(" 初步认识盲注：")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# and 与运算 一假全假 这个语句的查询成功成功完全决定于and后边1=1和1=2\nselect * from users where id='1' and 1=1\nselect * from users where id='1' and 1=2\n\n# 同理我们可以换成别的条件 查首字母是不是a、b、c等\nselect * from users where id ='1' and substr((select database()),1,1)='a'\nselect * from users where id = '1' and substr((select database()),1,1)='c'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("光有首字母还不够，我们可以修改substr的参数，比如")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("select * from users where id = '1' and substr((select database()),2,1)='a'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("以此类推。。。")]),s._v(" "),a("p",[s._v("认识盲注之后，我们可以仔细观察这个条件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("substr((select database()),2,1)='a'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("由此，我们可以引申出来盲注的两个基本点、两大基本问题：")]),s._v(" "),a("h3",{attrs:{id:"盲注的两大基础问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#盲注的两大基础问题"}},[s._v("#")]),s._v(" 盲注的两大基础问题")]),s._v(" "),a("ol",[a("li",[s._v("✅"),a("strong",[s._v("字符串的截取")])]),s._v(" "),a("li",[s._v("✅"),a("strong",[s._v("比较")])])]),s._v(" "),a("p",[s._v("举个简单的例子，比如目标库名是ctfgame，我们截取以后再进行比较，总共7个字母，每个位置有62种字符，最差的情况也只需要7*62次就会得出结果。")]),s._v(" "),a("p",[s._v("而如果我们不进行截取，直接对库名进行爆破，就远远不止7*62种可能，而是“62的七次方”个结果。")]),s._v(" "),a("h3",{attrs:{id:"字符串的截取"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#字符串的截取"}},[s._v("#")]),s._v(" 字符串的截取")]),s._v(" "),a("ol",[a("li",[a("p",[a("strong",[s._v("substr\t(substring是另一种写法)")])]),s._v(" "),a("p",[s._v("在数据库中，最最最常用的是substr，而substr有两种参数写法，一种是"),a("code",[s._v("substr(str,pos)")]),s._v("这种方式只能从某一位开始截取，一直截取到最后，这个就不够灵活，而另一种参数方法是"),a("code",[s._v("substr(str,pos,len)")])]),s._v(" "),a("ul",[a("li",[a("strong",[a("code",[s._v("str")])]),s._v("：这是原始的字符串，它可以是一个列名（表示从表中的某一列获取字符串），也可以是一个字符串常量。例如，在查询语句"),a("code",[s._v("SELECT SUBSTR('abcdef', 3);")]),s._v("中，"),a("code",[s._v("'abcdef'")]),s._v("就是原始字符串"),a("code",[s._v("str")]),s._v("。")]),s._v(" "),a("li",[a("strong",[a("code",[s._v("pos")])]),s._v("：这个参数指定了开始提取子字符串的位置。需要注意的是，在 MySQL 中，字符串的位置索引是从 1 开始的，而不是 0。例如，在"),a("code",[s._v("SUBSTR('abcdef', 3)")]),s._v("中，"),a("code",[s._v("pos = 3")]),s._v("，表示从字符"),a("code",[s._v("c")]),s._v("开始提取，最终结果为"),a("code",[s._v("cdef")]),s._v("。")]),s._v(" "),a("li",[a("code",[s._v("len")]),s._v("：这个参数指定了长度，比如"),a("code",[s._v("SUBSTR('abcdef', 3, 1)")]),s._v("中，"),a("code",[s._v("len=3")]),s._v("，表示从c开始截取，截取1位，最终结果")]),s._v(" "),a("li",[s._v("如果我们被过滤了逗号怎么办？我们可以用如下办法"),a("code",[s._v("SELECT SUBSTR('2024-12-14', 6, 5);")]),s._v("与"),a("code",[s._v("SELECT SUBSTR('2024-12-14' FROM 6 FOR 5)")])])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("mid()")])]),s._v(" "),a("p",[s._v("SQL MID()函数用于得到一个字符串的一部分，只有MySQL支持，不被 "),a("code",[s._v("SQL Server")]),s._v(" 和 "),a("code",[s._v("Oracle")]),s._v("支持，而在"),a("code",[s._v("SQL Server")]),s._v("和 "),a("code",[s._v("Oracle")]),s._v("中可以用"),a("code",[s._v("SQL SUBSTRING")]),s._v("函数或者SQL "),a("code",[s._v("SUBSTR")]),s._v("函数作为替代。有substr首先substr，没有再用mid替代")]),s._v(" "),a("p",[s._v("mid和substr基本相同，不同点在于以下区别")]),s._v(" "),a("ul",[a("li",[s._v("substr中参数是可选的，但mid必须是3个参数")]),s._v(" "),a("li",[s._v("substr支持"),a("code",[s._v("SUBSTRING(str FROM pos FOR len)")]),s._v("或者"),a("code",[s._v("SUBSTRING(str FROM pos)")]),s._v("，举例如上一条")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("right()")])]),s._v(" "),a("p",[s._v("从右边开始截取，如right('abcde',1)就是截取到一个e，此时就不是精确的截取某一位的东西了，但我们还可以利用这个函数达到我们的目的。我们用以下步骤实现")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("right('abcdef',1)='a'")]),s._v("、"),a("code",[s._v("right('abcdef',1)='b'")]),s._v("、"),a("code",[s._v("right('abcdef',1)='c'")]),s._v("依次类推，直到找到"),a("code",[s._v("f")])]),s._v(" "),a("li",[s._v("然后我们截两位"),a("code",[s._v("right('abcdef',2)='af'")]),s._v("、"),a("code",[s._v("right('abcdef',2)='bf'")]),s._v("、"),a("code",[s._v("right('abcdef',2)='cf'")]),s._v("依次类推，最终找到是"),a("code",[s._v("ef")])]),s._v(" "),a("li",[s._v("接下来递归往前推，每次多截1位，带着之前已经截取好并比较通过过的内容去继续比较")])])])]),s._v(" "),a("blockquote",[a("p",[s._v("其实我们不推荐用直接比较字符的方法，因为如果目标的flag中有特殊字符单引号"),a("code",[s._v("'")]),s._v("，在使用这个方法的时候，就会产生如下语句，单引号导致了出现了语法错误。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("right(select flag from flag,3) = ''def'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("h3",{attrs:{id:"不是比较字符的解决方案-ascii码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#不是比较字符的解决方案-ascii码"}},[s._v("#")]),s._v(" 不是比较字符的解决方案---Ascii码")]),s._v(" "),a("p",[s._v("ascii码在使用时，一定要注意的一点是：97对应的a是首字符，ascii函数会返回首字符的ascii码值")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> select ascii('abc');\n+--------------+\n| ascii('abc') |\n+--------------+\n|           97 |\n+--------------+\n1 row in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("接下来我们看如下情况：")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> select right('abcdef',1);\n+-------------------+\n| right('abcdef',1) |\n+-------------------+\n| f                 |\n+-------------------+\n1 row in set (0.00 sec)\n\nmysql> select right('abcdef',2);\n+-------------------+\n| right('abcdef',2) |\n+-------------------+\n| ef                |\n+-------------------+\n1 row in set (0.00 sec)\n\nmysql> select right('abcdef',3);\n+-------------------+\n| right('abcdef',3) |\n+-------------------+\n| def               |\n+-------------------+\n1 row in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("p",[s._v("由刚才的查询结果可以得知，我们的首字母是一直在变的，我们将他套进ascii函数里去，得到如下结果：")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> select ascii(right('abcdef',1));\n+--------------------------+\n| ascii(right('abcdef',1)) |\n+--------------------------+\n|                      102 |\n+--------------------------+\n1 row in set (0.00 sec)\n\nmysql> select ascii(right('abcdef',2));\n+--------------------------+\n| ascii(right('abcdef',2)) |\n+--------------------------+\n|                      101 |\n+--------------------------+\n1 row in set (0.00 sec)\n\nmysql> select ascii(right('abcdef',3));\n+--------------------------+\n| ascii(right('abcdef',3)) |\n+--------------------------+\n|                      100 |\n+--------------------------+\n1 row in set (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("ol",[a("li")])],1)}),[],!1,null,null,null);a.default=t.exports}}]);