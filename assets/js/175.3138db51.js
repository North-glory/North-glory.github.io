(window.webpackJsonp=window.webpackJsonp||[]).push([[175],{718:function(t,_,e){"use strict";e.r(_);var v=e(2),a=Object(v.a)({},(function(){var t=this,_=t._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("Boxx"),t._v(" "),_("p",[t._v("从0开始学习CTF，了解CTF基本规则、方法，这是开始打卡学习的第40天")]),t._v(" "),_("p",[t._v("Web架构&前后端分离站&Docker容器站&集成软件站&建站分配")]),t._v(" "),_("p",[t._v("发现单纯学习CTF没有一个系统完整的课程，所以准备学小迪安全的渗透测试课程，希望能打一个好基础。")]),t._v(" "),_("p",[t._v("此外，还应该多参加各种CTF比赛，或者是每天练习CTF赛题，理论与实践相结合。")]),t._v(" "),_("p"),_("div",{staticClass:"table-of-contents"},[_("ul",[_("li",[_("a",{attrs:{href:"#模拟攻击集成软件站"}},[t._v("模拟攻击集成软件站：")]),_("ul",[_("li",[_("a",{attrs:{href:"#集成搭建-宝塔面板"}},[t._v("集成搭建-宝塔面板")])]),_("li",[_("a",{attrs:{href:"#集成搭建-phpstudy"}},[t._v("集成搭建-phpStudy")])]),_("li",[_("a",{attrs:{href:"#手动传统搭建-iis管理器-微软web服务器"}},[t._v("手动传统搭建-iis管理器（微软Web服务器）")])]),_("li",[_("a",{attrs:{href:"#特点总结"}},[t._v("特点总结")])]),_("li",[_("a",{attrs:{href:"#造成差异的原因"}},[t._v("造成差异的原因")])])])])])]),_("p"),t._v(" "),_("ul",[_("li",[t._v("小迪安全视频地址【"),_("RouterLink",{attrs:{to:"/views/numerology/[https://www.bilibili.com/video/BV123yAYMEwb/"}},[t._v("🔗传送门")]),t._v("】")],1)]),t._v(" "),_("h1",{attrs:{id:"第20章-基础入门-web架构-前后端分离站-docker容器站-集成软件站-建站分配"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#第20章-基础入门-web架构-前后端分离站-docker容器站-集成软件站-建站分配"}},[t._v("#")]),t._v(" 第20章：基础入门-Web架构&前后端分离站&Docker容器站&集成软件站&建站分配")]),t._v(" "),_("h2",{attrs:{id:"模拟攻击集成软件站"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#模拟攻击集成软件站"}},[t._v("#")]),t._v(" 模拟攻击集成软件站：")]),t._v(" "),_("h3",{attrs:{id:"集成搭建-宝塔面板"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#集成搭建-宝塔面板"}},[t._v("#")]),t._v(" 集成搭建-宝塔面板")]),t._v(" "),_("p",[t._v("周五出去吃饭，周六出门，都没来得及学习，太罪恶了。")]),t._v(" "),_("p",[t._v("视频中用宝塔面板搭建了zblog的博客网站，我们附上【"),_("a",{attrs:{href:"https://www.bt.cn/new/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("宝塔面板官网"),_("OutboundLink")],1),t._v("】、【"),_("a",{attrs:{href:"https://www.zblogcn.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("zblog官网"),_("OutboundLink")],1),t._v("】")]),t._v(" "),_("p",[t._v("视频中用到的是"),_("code",[t._v("“狐狸的工具箱”")]),t._v("，这里附上【"),_("a",{attrs:{href:"https://pan.baidu.com/s/1XbQbJPHqdvT_U63PSLqiZA?pwd=vfmv",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载链接"),_("OutboundLink")],1),t._v("】，压缩包解压密码"),_("code",[t._v("xiaodisec")])]),t._v(" "),_("p",[t._v("利用后门进行命令执行。")]),t._v(" "),_("p",[_("img",{attrs:{src:"/img/ctfLearn/image-20241229201533464.png",alt:"image-20241229201533464"}})]),t._v(" "),_("p",[t._v("图中，我们可以看到一句话")]),t._v(" "),_("p",[_("code",[t._v("none of proc_open/passthru/shell_exec/exec/exec/popen/COM/runshellshock/pcntl_exec is available")])]),t._v(" "),_("p",[t._v("常规搭建的时候是可以执行命令的，但宝塔搭建的时候，连最基本的whoami都无法执行")]),t._v(" "),_("p",[t._v("此外，我们用工具查看目录的时候，正常的子文件夹可以看到，但是wwwroot目录点不开，仅仅只能看到当前的网站的目录，其他目录是看不到的。")]),t._v(" "),_("p",[_("img",{attrs:{src:"/img/ctfLearn/image-20241229202047692.png",alt:"image-20241229202047692"}})]),t._v(" "),_("p",[t._v("这个提示"),_("code",[t._v("Path Net Found Or No Permission")]),t._v("的意思是"),_("code",[t._v("路径没有发现或没有权限")])]),t._v(" "),_("p",[t._v("通过这个测试，我们可以明白，宝塔自动帮我们做了一些目录权限的设置。")]),t._v(" "),_("p",[t._v("相反的，常规搭建的时候，如果没有额外做设置的情况下，一般是可以进行命令执行和文件其他路径读取的。")]),t._v(" "),_("p",[t._v("在开始设计的时候是没有这样的限制的，这个限制是在宝塔的逐渐发展中完善、强化的。")]),t._v(" "),_("h3",{attrs:{id:"集成搭建-phpstudy"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#集成搭建-phpstudy"}},[t._v("#")]),t._v(" 集成搭建-phpStudy")]),t._v(" "),_("p",[t._v("在宝塔面板的前身，也就是phpStudy中，就是没有这些限制的。这里附上【"),_("a",{attrs:{href:""}},[t._v("phpStudy官网")]),t._v("】")]),t._v(" "),_("p",[t._v("在外网中访问到我们用phpStudy部署好的zblog，使用和刚才同样的后门。")]),t._v(" "),_("p",[_("img",{attrs:{src:"/img/ctfLearn/image-20241229204120068.png",alt:"image-20241229204120068"}})]),t._v(" "),_("p",[t._v("这时我们执行了whoami命令，得到的结果是administrator")]),t._v(" "),_("p",[t._v("这时候发现是能命令执行的，并且文件目录也是可以看到的。")]),t._v(" "),_("h3",{attrs:{id:"手动传统搭建-iis管理器-微软web服务器"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#手动传统搭建-iis管理器-微软web服务器"}},[t._v("#")]),t._v(" 手动传统搭建-iis管理器（微软Web服务器）")]),t._v(" "),_("p",[t._v("这里附上【"),_("a",{attrs:{href:"https://blog.csdn.net/weixin_46400784/article/details/134547373?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-0-134547373-blog-135683499.235%5Ev43%5Epc_blog_bottom_relevance_base1&spm=1001.2101.3001.4242.1&utm_relevant_index=2",target:"_blank",rel:"noopener noreferrer"}},[t._v("iis管理器的安装教程"),_("OutboundLink")],1),t._v("】")]),t._v(" "),_("p",[t._v("我们使用iis管理器启动的时候，发现被占用，我么改了端口后重启，重新搭建好一个网站zblog，并上传后门")]),t._v(" "),_("p",[t._v("用后门工具连接后门，发现是可以看到上级目录的，但其他目录不可以。")]),t._v(" "),_("p",[t._v("命令执行方面，部分命令可以执行，部分不可以执行。")]),t._v(" "),_("p",[_("img",{attrs:{src:"/img/ctfLearn/image-20241229211753008.png",alt:"image-20241229211753008"}})]),t._v(" "),_("h3",{attrs:{id:"特点总结"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#特点总结"}},[t._v("#")]),t._v(" 特点总结")]),t._v(" "),_("p",[_("strong",[t._v("宝塔搭建的特点：")])]),t._v(" "),_("ol",[_("li",[t._v("文件管理 锁定目录")]),t._v(" "),_("li",[t._v("命令执行 无法执行")])]),t._v(" "),_("p",[_("strong",[t._v("phpStudy搭建的特点：")])]),t._v(" "),_("ol",[_("li",[_("p",[t._v("文件管理 未锁定目录")])]),t._v(" "),_("li",[_("p",[t._v("命令执行 可以执行")]),t._v(" "),_("p",[t._v("whoami获取用户权限的执行结果是："),_("code",[t._v("izsjxymy4bzovoz\\administrator")])])])]),t._v(" "),_("p",[_("strong",[t._v("手动搭建的iis：")])]),t._v(" "),_("ol",[_("li",[_("p",[t._v("文件管理 可以查看子目录 不可以查看其他目录")])]),t._v(" "),_("li",[_("p",[t._v("命令执行 可以执行部分命令")]),t._v(" "),_("p",[t._v("whoami获取用户权限的执行结果是："),_("code",[t._v("iis apppool\\defaultapppool")])])])]),t._v(" "),_("h3",{attrs:{id:"造成差异的原因"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#造成差异的原因"}},[t._v("#")]),t._v(" 造成差异的原因")]),t._v(" "),_("p",[t._v("不同的工具搭建出来的东西不同，造成这种情况的原因是：")]),t._v(" "),_("ol",[_("li",[t._v("宝塔初期是和phpStudy是一样的，都不够安全，在用户量逐渐增多后，逐渐注重安全，开始在宝塔的内核做更改，防止被侵入后文件直接丢失、修改的情况")]),t._v(" "),_("li",[t._v("phpSutdy被宝塔面板抢占用户市场以后，安全方面没有发展起来，造成的安全漏洞，但phpStudy也有防护，在创建网站的时候，是可以配置安全设置，但一般默认是全部关闭的。")]),t._v(" "),_("li",[t._v("whoami的结果不同的原因是iis是系统自带的，phpSutdy是自行安装的，是用administrator安装，继承了它的权限。")])])],1)}),[],!1,null,null,null);_.default=a.exports}}]);